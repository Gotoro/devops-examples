# Display after apply
Thank you for installing the my-webapp chart.

Your release is named {{ .Release.Name }}.

To learn more about the release, try:
  $ helm status {{ .Release.Name }}
  $ helm get all {{ .Release.Name }}

---

1. Get the application URL by running these commands:
{{- if .Values.ingress.enabled }}
  export APP_HOST=$(kubectl get ingress {{ include "my-webapp.fullname" . }} --namespace {{ .Release.Namespace }} -o jsonpath='{.spec.rules[0].host}')
  echo "Application URL: http://$APP_HOST/"
  echo ""
  echo "NOTE: It may take a few minutes for the Ingress controller to assign an IP address."
  echo "You may need to update your /etc/hosts file to map the host to the Ingress IP:"
  echo "1. Get the Ingress IP: kubectl get svc --namespace ingress-nginx ingress-nginx-controller -o jsonpath='{.status.loadBalancer.ingress[0].ip}'"
  echo "2. Add to /etc/hosts: <INGRESS_IP> $APP_HOST"
{{- else }}
  export POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l "app.kubernetes.io/name={{ include "my-webapp.name" . }},app.kubernetes.io/instance={{ .Release.Name }},app.kubernetes.io/component=frontend" -o jsonpath="{.items[0].metadata.name}")
  echo "Visit http://127.0.0.1:8080 to use your application"
  echo "Run the following command to start port-forwarding:"
  echo "  kubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 8080:80"
{{- end }}

{{- if .Values.postgresql.enabled }}

2. Get your PostgreSQL credentials by running:
   export POSTGRES_PASSWORD=$(kubectl get secret --namespace {{ .Release.Namespace }} {{ printf "%s-%s" .Release.Name "postgresql" }} -o jsonpath="{.data.postgres-password}" | base64 -d)
   
   echo "PostgreSQL can be accessed within the cluster at: {{ .Release.Name }}-postgresql:5432"
   echo "Username:   {{ .Values.postgresql.auth.username }}"
   echo "Password:   ${POSTGRES_PASSWORD}"
   echo "Database:   {{ .Values.postgresql.auth.database }}"
{{- end }}
